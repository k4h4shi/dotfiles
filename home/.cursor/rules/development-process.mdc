---
description: 個人の共通開発プロセス（グローバル）
alwaysApply: true
---

# 開発プロセス (Personal Common Process)

本ドキュメントは、プロジェクトに依存しない共通の開発プロセスを定義する。
プロジェクト固有のルールや詳細は各リポジトリ側に置き、ここでは個人の運用方針のみを扱う。

## 目的

- 複数プロジェクトを並行で進めるための共通フローを確立する
- 役割分担とツールの責務を明確にする
- 実装とレビューのボトルネックを減らす

## 役割分担 (Roles & Tools)

| 担当               | ツール/エージェント | 主な役割                                     |
| :----------------- | :------------------ | :------------------------------------------- |
| **PM / Architect** | Human               | 意思決定、クリティカルパス整理、タスク指示   |
| **Manager**        | **Cursor**          | タスク追加、計画、開発プロセス管理           |
| **Worker**         | **Claude Code**     | 実装、テスト、ドキュメント更新               |
| **Reviewer**       | **Gemini CLI**      | テスト/実装/ドキュメントの一致確認           |
| **Researcher**     | **ChatGPT**         | 技術調査                                     |

## 並行開発フロー (Cursor + Vive)

### Cursor (Plan/Review)

- `/plan` で Issue を収集し、優先順位とクリティカルパスを整理
- `/issue` でタスク化
- レビューは Gemini CLI へ委譲
- **並行実行の設計**（レーン分割、依存関係、衝突回避）
- **コンテキスト共有**（Issue コメントで「仕様根拠・決定・影響範囲」を残す）
- **レトロの収集と峻別**（改善を 1〜3 件に絞って Issue 化し、次スプリントへ投入）

### Vive (Execute)

- Claude Code + Git Worktree を監督
- タスク単位で並行実装を回す
- タスクのプレビューでログ/状態を監視

## スプリント運用（Plan → Parallel → Retro の反復）

### スプリントの目的
並行AI開発は「実装を増やすほど詰まる」ため、各スプリントで次を同時に達成する。

- **Delivery**: 価値（機能/バグ）を前に進める
- **Enablement**: 次スプリント以降の詰まりを減らす（仕組み化/ルール整備）

### レーン（Lane）設計（衝突回避の基本）
- **Lane A: Migration（直列）**: DB/採番/ID体系など“波及する基盤変更”は1本だけ走らせる
- **Lane B: Regression（並行OK）**: 直前変更の回帰修正（変更範囲が限定されやすい）
- **Lane C: Feature/UX（並行OK）**: 画面改善や機能追加（SSOT根拠を明確化）
- **Lane D: Enablement（並行OK）**: 仕組み化/ルール整備（Deliveryと衝突しにくいものだけ）

### Cursor（Manager）の反復ループ（スクラムマスター相当）
- **(Plan)** Issueの見直し（スコープ調整/分割/統合/クローズ）と、レーン配置の確定
- **(Share)** 仕様根拠・前提・影響範囲を Issue コメントに残す（後追いで読める形）
- **(Run)** Vive の並行実行を前提に、衝突するIssueを同時に走らせないよう交通整理
- **(Retro)** 各レーンのレトロを回収し、改善を「本当にやる 1〜3件」に峻別してIssue化

### 仕組み化/ルール整備の峻別基準（Enablementは増やしすぎない）
- **採用**: 複数Issueで再発、注意では防げない、repo内に落とせる、Deliveryと衝突しにくい
- **見送り**: 1回限り/原因不明、個人設定に閉じる、改善のための改善、運用に乗らない

### スプリント完了条件（DoD）
- **Delivery**: 主要レーン（Migration/回帰/主要UX）が前進し、マージ可能な状態に到達
- **Enablement**: 選別した改善Issue（1〜3件）が完了、または“次へ持ち越し”判断が明確
- **学び**: レトロが残り、次スプリントの入力になっている

## 抽象化の方針

- **コマンド**: ユーザー入力のインターフェース。エージェント/スキルを呼び出す。
- **エージェント**: コマンド実行中に必要に応じて起動される作業実体。
- **スキル**: プロジェクト/ドメイン/技術に特化した知識と手順。

## 作業スタイル (Personal)

- Cursor は計画とレビューを担当
- Vive は実装の並行実行を担当
- 2 画面で Cursor / Vive を分離し、残りはブラウザ・メモ・BGMなどに充てる
- 実装中のメモは Obsidian に集約し、必要に応じて Cursor 側に移す

## 課題と改善方針 (共通)

- **Claude Code の承認負荷**: 設定と運用で承認頻度を減らす
- **Vive の状態検知精度**: 監視ロジックを継続的に改善する
- **並行実行の安定化**: 作業単位を小さく保ち、衝突を避ける
